import{_ as O,ac as R,aw as z,r as w,n as N,o,c as l,d as t,w as s,V as j,aj as y,S as q,f as V,e as p,ak as A,g as v,ap as b,ax as H,a2 as k,ay as L,al as M,af as e,W as S,am as I,an as d,t as c,Q as f,ad as T,ae as U,k as n}from"./index.1a0de457.js";const m=i=>(T("data-v-1445d60c"),i=i(),U(),i),E={id:"orders"},G=m(()=>e("h1",{class:"text-center"},"\u8A02\u55AE\u7BA1\u7406",-1)),P=m(()=>e("thead",null,[e("tr",null,[e("th",null,"\u8A02\u55AE\u7DE8\u865F"),e("th",null,"\u8A02\u55AE\u65E5\u671F"),e("th",null,"\u8A02\u55AE\u91D1\u984D"),e("th",null,"\u8CFC\u8CB7\u5546\u54C1"),e("th",null,"\u8A02\u55AE\u72C0\u614B")])],-1)),W={key:0},F=n("mdi-comment-outline"),Q=n("\u8A02\u55AE\u78BA\u8A8D\u4E2D "),Y={key:1},J=n("mdi-comment-processing-outline"),K=n("\u5546\u54C1\u51FA\u8CA8\u4E2D "),X={key:2},Z=n("mdi-comment-check-outline"),$=n("\u8A02\u55AE\u5DF2\u5B8C\u6210 "),tt={key:0},et=m(()=>e("td",{colspan:"4"},[e("h3",{class:"text-center"},"\u6C92\u6709\u8A02\u55AE")],-1)),st=[et],at={__name:"OrdersView",setup(i){const D=R(),{avatar:B,account:ot}=z(D),_=w([]),h=w([]),C=N(()=>_.slice(0).reverse());return(async()=>{try{const{data:u}=await y.get("/orders");_.push(...u.result.map(a=>(a.totalPrice=a.products.reduce((r,g)=>r+g.product.price*g.quantity,0),a)));const{dataUser:x}=await y.get("/users");h.push(...x.result)}catch(u){console.log(u),q.fire({title:"ERROR //\u5931\u6557",text:"\u7121\u6CD5\u53D6\u5F97\u8A02\u55AE"})}})(),(u,x)=>(o(),l("div",E,[t(j,null,{default:s(()=>[t(V,null,{default:s(()=>[t(p,{cols:"12"},{default:s(()=>[G]),_:1}),t(A),t(V,{class:"justify-center w-100 pt-5"},{default:s(()=>[t(p,{cols:"12",md:"3"},{default:s(()=>[t(v,{class:"text-center mx-auto","max-width":"100%","max-height":"250",tile:""},{default:s(()=>[t(b,{height:"50%",cover:"",src:"https://images.unsplash.com/photo-1557853197-aefb550b6fdc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1635&q=80",class:"pa-5",gradient:"to bottom, rgba(0,0,0,.5), rgba(0,0,0,1)"},{default:s(()=>[t(H,{color:"grey",size:"100"},{default:s(()=>[t(b,{src:k(B),height:"100%",cover:""},null,8,["src"])]),_:1}),t(L,{class:"text-white",title:h.account,subtitle:h.email,elevation:"24"},null,8,["title","subtitle"])]),_:1})]),_:1})]),_:1}),t(p,{cols:"12",md:"9"},{default:s(()=>[t(v,null,{default:s(()=>[t(M,null,{default:s(()=>[P,e("tbody",null,[(o(!0),l(S,null,I(k(C),a=>(o(),l("tr",{key:a._id},[e("td",null,c(a._id),1),e("td",null,c(new Date(a.date).toLocaleDateString()),1),e("td",null,c(a.totalPrice),1),e("td",null,[e("ul",null,[(o(!0),l(S,null,I(a.products,r=>(o(),l("li",{key:r._id},c(r.product.name)+" x "+c(r.quantity),1))),128))])]),a.tone===0?(o(),l("td",W,[t(f,{size:"x-large",start:"",color:"red"},{default:s(()=>[F]),_:1}),Q])):d("",!0),a.tone===1?(o(),l("td",Y,[t(f,{size:"x-large",start:"",color:"yellow"},{default:s(()=>[J]),_:1}),K])):d("",!0),a.tone===2?(o(),l("td",X,[t(f,{size:"x-large",start:"",color:"green"},{default:s(()=>[Z]),_:1}),$])):d("",!0)]))),128)),_.length===0?(o(),l("tr",tt,st)):d("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]))}};var rt=O(at,[["__scopeId","data-v-1445d60c"]]);export{rt as default};
