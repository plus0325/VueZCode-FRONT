import{r as c,a as V,ac as y,au as g,u as v,o as x,c as h,d as t,w as s,V as w,l as b,S as q,f as S,e as o,af as r,t as n,ak as k,ap as B,i as C,j as R,av as N,k as U}from"./index.7c3a01de.js";import{V as j}from"./VLabel.0b7dd55b.js";import{V as D}from"./VTextField.438cb3ef.js";const F={id:"product"},T={class:"text-center"},E={style:{"white-space":"pre"}},I=U("\u52A0\u5165\u8CFC\u7269\u8ECA"),M=r("h1",{class:"text-black"},"\u5DF2\u4E0B\u67B6",-1),G={__name:"ProductView",setup(O){const e=c({_id:"",name:"",price:"",category:"",sell:!1,image:"",description:"",quantity:0}),d=c([a=>a>=1||"\u6578\u91CF\u932F\u8AA4"]),i=V(!1),m=()=>{!i.value||p.addCart({product:e._id,quantity:e.quantity})},p=y(),_=g(),f=v();return(async()=>{try{const{data:a}=await b.get("/products/"+_.params.id);e._id=a.result._id,e.name=a.result.name,e.price=a.result.price,e.category=a.result.category,e.sell=a.result.sell,e.image=a.result.image,e.description=a.result.description}catch{q.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),f.go(-1)}})(),(a,l)=>(x(),h("div",F,[t(w,null,{default:s(()=>[t(S,null,{default:s(()=>[t(o,{cols:"12"},{default:s(()=>[r("h1",T,n(e.name),1)]),_:1}),t(k),t(o,{cols:"12",class:"text-center"},{default:s(()=>[t(B,{src:e.image},null,8,["src"]),r("p",null,"$"+n(e.price),1)]),_:1}),t(o,{cols:"12"},{default:s(()=>[r("p",E,n(e.description),1)]),_:1}),t(o,{cols:"12"},{default:s(()=>[t(j,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=u=>i.value=u),onSubmit:C(m,["prevent"])},{default:s(()=>[t(D,{label:"\u6578\u91CF",type:"number",min:"0",modelValue:e.quantity,"onUpdate:modelValue":l[0]||(l[0]=u=>e.quantity=u),rules:d},null,8,["modelValue","rules"]),t(R,{type:"submit"},{default:s(()=>[I]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1}),t(N,{"model-value":!e.sell,class:"align-center justify-center",color:"#036358"},{default:s(()=>[M]),_:1},8,["model-value"])]),_:1})]))}};export{G as default};
