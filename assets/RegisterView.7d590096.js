import{u as _,r as d,a as m,b as w,o as v,c as h,d as a,w as t,V as C,C as S,e as p,f as b,g as y,h as R,i as E,j as T,k as f,l as U,S as c}from"./index.4784562d.js";import"./index.fbc4272d.js";import{v as k}from"./index.dae76202.js";import{V as z}from"./VInput.8cc012d9.js";import{V as i}from"./VTextField.a6ba2229.js";const A={id:"register"},B=f("Join"),F=f("\u8A3B\u518A"),M={__name:"RegisterView",setup(N){const V=_(),o=d({account:"",email:"",password:""}),r=m(!1),n=m(!1),u=d({account:[e=>!!e||"\u5E33\u865F\u5FC5\u586B",e=>e.length>=4&&e.length<=20||"\u5E33\u865F\u9577\u5EA6\u70BA4\u523020\u500B\u5B57",e=>/^[a-zA-Z0-9]+$/.test(e)||"\u5E33\u865F\u53EA\u80FD\u7531\u82F1\u6587\u6578\u5B57\u7D44\u6210"],email:[e=>!!e||"\u4FE1\u7BB1\u5FC5\u586B",e=>k.exports.isEmail(e)||"\u4FE1\u7BB1\u683C\u5F0F\u932F\u8AA4"],password:[e=>!!e||"\u5BC6\u78BC\u5FC5\u586B",e=>e.length>=4&&e.length<=20||"\u5BC6\u78BC\u9577\u5EA6\u70BA4\u523020\u500B\u5B57",e=>/^[a-zA-Z0-9]+$/.test(e)||"\u5E33\u865F\u53EA\u80FD\u7531\u82F1\u6587\u6578\u5B57\u7D44\u6210"]}),x=async()=>{if(!!r.value){n.value=!0;try{await U.post("/users",o),await c.fire({title:"SUCCESS //\u6210\u529F",text:"\u8A3B\u518A\u6210\u529F"}),V.push("/")}catch(e){c.fire({title:"ERROR //\u5931\u6557",text:e.isAxiosError&&e.response.data?e.response.data.message:"\u767C\u751F\u932F\u8AA4"})}n.value=!1}};return(e,l)=>{const g=w("TitlePart");return v(),h("div",A,[a(C,null,{default:t(()=>[a(S),a(p,{clos:"12"},{default:t(()=>[a(g,null,{text:t(()=>[B]),_:1})]),_:1}),a(b,null,{default:t(()=>[a(p,{col:"12"},{default:t(()=>[a(y,{class:"pa-2 pa-md-10 mx-auto",rounded:"xl",elevation:"20","max-width":"600","max-height":"480",align:"center"},{default:t(()=>[a(R,{class:"d-flex flex-column algin-center"},{default:t(()=>[a(z,{modelValue:r.value,"onUpdate:modelValue":l[3]||(l[3]=s=>r.value=s),onSubmit:E(x,["prevent"])},{default:t(()=>[a(i,{type:"text",label:"\u5E33\u865F",modelValue:o.account,"onUpdate:modelValue":l[0]||(l[0]=s=>o.account=s),rules:u.account,counter:"20",maxlength:"20"},null,8,["modelValue","rules"]),a(i,{type:"email",label:"\u4FE1\u7BB1",modelValue:o.email,"onUpdate:modelValue":l[1]||(l[1]=s=>o.email=s),rules:u.email},null,8,["modelValue","rules"]),a(i,{type:"password",label:"\u5BC6\u78BC",modelValue:o.password,"onUpdate:modelValue":l[2]||(l[2]=s=>o.password=s),rules:u.password,counter:"20",maxlength:"20"},null,8,["modelValue","rules"]),a(T,{size:"x-large",width:"80%",type:"submit",variant:"outlined",color:"green",class:"mx-auto mt-5",loading:n.value},{default:t(()=>[F]),_:1},8,["loading"])]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}};export{M as default};
