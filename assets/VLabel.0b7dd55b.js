import{p as B,m as x,n as p,a as v,q as R,s as D,v as P,x as S,y as b,z as V,d as y,A as k,B as w}from"./index.7c3a01de.js";const h=Symbol.for("vuetify:form"),E=B({disabled:Boolean,fastFail:Boolean,lazyValidation:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null}});function L(l){const u=x(l,"modelValue"),o=p(()=>l.disabled),i=p(()=>l.readonly),s=v(!1),a=v([]),d=v([]);async function m(){const e=[];let t=!0;d.value=[],s.value=!0;for(const c of a.value){const f=await c.validate();if(f.length>0&&(t=!1,e.push({id:c.id,errorMessages:f})),!t&&l.fastFail)break}return d.value=e,s.value=!1,{valid:t,errors:d.value}}function n(){a.value.forEach(e=>e.reset()),u.value=null}function r(){a.value.forEach(e=>e.resetValidation()),d.value=[],u.value=null}return R(a,()=>{let e=null;a.value.some(t=>t.isValid===!1)?e=!1:a.value.every(t=>t.isValid===!0)&&(e=!0),u.value=e},{deep:!0}),D(h,{register:(e,t,c,f,F)=>{a.value.some(g=>g.id===e)&&P(`Duplicate input name "${e}"`),a.value.push({id:e,validate:t,reset:c,resetValidation:f,isValid:F})},unregister:e=>{a.value=a.value.filter(t=>t.id!==e)},isDisabled:o,isReadonly:i,isValidating:s,items:a}),{errors:d,isDisabled:o,isReadonly:i,isValidating:s,items:a,validate:m,reset:n,resetValidation:r}}function $(){return S(h,null)}const z=b({name:"VForm",props:{...E()},emits:{"update:modelValue":l=>!0,submit:l=>!0},setup(l,u){let{slots:o,emit:i}=u;const s=L(l),a=v();function d(n){n.preventDefault(),s.reset()}function m(n){const r=n,e=s.validate();r.then=e.then.bind(e),r.catch=e.catch.bind(e),r.finally=e.finally.bind(e),i("submit",r),r.defaultPrevented||e.then(t=>{let{valid:c}=t;if(c){var f;(f=a.value)==null||f.submit()}}),r.preventDefault()}return V(()=>{var n;return y("form",{ref:a,class:"v-form",novalidate:!0,onReset:d,onSubmit:m},[(n=o.default)==null?void 0:n.call(o,s)])}),k(s,a)}});const j=b({name:"VLabel",props:{text:String,...w()},setup(l,u){let{slots:o}=u;return V(()=>{var i;return y("label",{class:"v-label"},[l.text,(i=o.default)==null?void 0:i.call(o)])}),{}}});export{z as V,j as a,$ as u};
